<!-- Git Conflicts Management Section -->
<section id="git-conflicts-intro" class="doc-section">
    <h2>Gestion des Conflits Git en Local</h2>
    
    <p class="lead">Les conflits Git sont l'une des parties les plus redout√©es du d√©veloppement collaboratif, mais ils ne devraient pas l'√™tre. <strong>Git n'est pas psychique ‚Äî il est logique</strong>. Quand deux branches modifient le m√™me code de mani√®res diff√©rentes, Git s'arr√™te et vous demande de choisir. C'est une protection, pas un probl√®me.</p>

    <div class="alert alert-info">
        <div class="alert-icon">üß†</div>
        <div class="alert-content">
            <strong>Changement de Perspective</strong>
            <p>Un conflit Git n'est pas un √©chec ‚Äî c'est Git qui vous prot√®ge de la perte de code en vous demandant de prendre une d√©cision consciente.</p>
        </div>
    </div>

    <h3>Les 4 Types de Conflits Principaux</h3>

    <div class="card-grid">
        <div class="card">
            <div class="card-header">
                <span class="card-icon">üîÄ</span>
                <h3>Conflit de Fusion Standard</h3>
            </div>
            <p>Deux branches modifient la m√™me ligne de code dans le m√™me fichier. Le plus courant et le plus facile √† r√©soudre.</p>
        </div>

        <div class="card">
            <div class="card-header">
                <span class="card-icon">üîÑ</span>
                <h3>Conflit de Rebase</h3>
            </div>
            <p>Survient lors de la r√©√©criture d'historique. Git rejoue les commits un par un et peut s'arr√™ter √† chaque conflit.</p>
        </div>

        <div class="card">
            <div class="card-header">
                <span class="card-icon">üóëÔ∏è</span>
                <h3>Conflit Suppression/Modification</h3>
            </div>
            <p>Une branche supprime un fichier pendant qu'une autre le modifie. Git vous demande : garder ou supprimer ?</p>
        </div>

        <div class="card">
            <div class="card-header">
                <span class="card-icon">‚ö†Ô∏è</span>
                <h3>Changements Non Committ√©s</h3>
            </div>
            <p>Git refuse de continuer si vous avez des modifications non sauvegard√©es qui seraient √©cras√©es.</p>
        </div>
    </div>

    <div class="callout">
        <strong>Approche P√©dagogique</strong>
        <p>Nous allons simuler chaque type de conflit √©tape par √©tape, puis apprendre √† les r√©soudre m√©thodiquement. Chaque conflit a sa logique et sa solution.</p>
    </div>
</section>

<!-- Standard Merge Conflict -->
<section id="standard-merge-conflict" class="doc-section">
    <h2>Le Conflit de Fusion Standard</h2>
    
    <p class="lead">Le conflit le plus fr√©quent : <strong>deux branches modifient la m√™me ligne de code</strong>. Git ne peut pas deviner quelle version garder, alors il vous demande de choisir manuellement.</p>

    <h3>üìã Simulation √âtape par √âtape</h3>

    <div class="numbered-list">
        <ol>
            <li>
                <strong>Initialiser le d√©p√¥t de test</strong>
                <div class="code-block">
                    <div class="code-header">Terminal</div>
                    <pre><code>mkdir merge_demo && cd merge_demo && git init</code></pre>
                </div>
                <p>Cr√©er un nouveau d√©p√¥t pour nos tests.</p>
            </li>

            <li>
                <strong>Cr√©er le fichier de base</strong>
                <div class="code-block">
                    <div class="code-header">Terminal</div>
                    <pre><code>echo 'Base Content' > file.txt && git add . && git commit -m 'Initial commit'</code></pre>
                </div>
                <p>√âtablir une base commune avant la divergence.</p>
            </li>

            <li>
                <strong>Cr√©er et modifier sur la branche feature</strong>
                <div class="code-block">
                    <div class="code-header">Terminal</div>
                    <pre><code>git checkout -b feature && echo 'Feature Change' > file.txt && git commit -am 'Change in feature'</code></pre>
                </div>
                <p>La branche feature modifie le fichier d'une fa√ßon.</p>
            </li>

            <li>
                <strong>Modifier diff√©remment sur main</strong>
                <div class="code-block">
                    <div class="code-header">Terminal</div>
                    <pre><code>git checkout main && echo 'Main Change' > file.txt && git commit -am 'Change in main'</code></pre>
                </div>
                <p>La branche main modifie le M√äME fichier diff√©remment.</p>
            </li>

            <li>
                <strong>D√©clencher le conflit</strong>
                <div class="code-block">
                    <div class="code-header">Terminal</div>
                    <pre><code>git merge feature</code></pre>
                </div>
                <p><strong>BOOM!</strong> Git s'arr√™te avec un message de conflit.</p>
            </li>
        </ol>
    </div>

    <div class="alert alert-warning">
        <div class="alert-icon">‚ö†Ô∏è</div>
        <div class="alert-content">
            <strong>Message de Conflit Typique</strong>
            <pre style="margin: 0; background: none; padding: 0;">Auto-merging file.txt
CONFLICT (content): Merge conflict in file.txt
Automatic merge failed; fix conflicts and then commit the result.</pre>
        </div>
    </div>

    <h3>üîß Processus de R√©solution</h3>

    <div class="feature-list">
        <div class="feature-item">
            <div class="feature-icon">1Ô∏è‚É£</div>
            <div class="feature-content">
                <h4>Identifier les fichiers en conflit</h4>
                <div class="code-block">
                    <div class="code-header">Terminal</div>
                    <pre><code>git status</code></pre>
                </div>
                <p>Git liste les fichiers avec des conflits non r√©solus.</p>
            </div>
        </div>

        <div class="feature-item">
            <div class="feature-icon">2Ô∏è‚É£</div>
            <div class="feature-content">
                <h4>Examiner les marqueurs de conflit</h4>
                <div class="code-block">
                    <div class="code-header">Contenu de file.txt</div>
                    <pre><code><<<<<<< HEAD
Main Change
=======
Feature Change
>>>>>>> feature</code></pre>
                </div>
                <p><code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code> = Version actuelle, <code>=======</code> = S√©parateur, <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code> = Version entrante</p>
            </div>
        </div>

        <div class="feature-item">
            <div class="feature-icon">3Ô∏è‚É£</div>
            <div class="feature-content">
                <h4>√âditer et choisir</h4>
                <div class="code-block">
                    <div class="code-header">R√©solution manuelle</div>
                    <pre><code># Supprimez les marqueurs et choisissez le contenu
# Option A: Garder la version main
Main Change

# Option B: Garder la version feature  
Feature Change

# Option C: Combiner les deux
Main Change
Feature Change</code></pre>
                </div>
                <p>Supprimez les marqueurs <code>&lt;&lt;&lt;</code>, <code>===</code>, <code>&gt;&gt;&gt;</code> et gardez le code voulu.</p>
            </div>
        </div>

        <div class="feature-item">
            <div class="feature-icon">4Ô∏è‚É£</div>
            <div class="feature-content">
                <h4>Marquer comme r√©solu</h4>
                <div class="code-block">
                    <div class="code-header">Terminal</div>
                    <pre><code>git add file.txt</code></pre>
                </div>
                <p>Dire √† Git que ce fichier est maintenant r√©solu.</p>
            </div>
        </div>

        <div class="feature-item">
            <div class="feature-icon">5Ô∏è‚É£</div>
            <div class="feature-content">
                <h4>Finaliser la fusion</h4>
                <div class="code-block">
                    <div class="code-header">Terminal</div>
                    <pre><code>git commit</code></pre>
                </div>
                <p>Git cr√©√© automatiquement un commit de fusion avec un message par d√©faut.</p>
            </div>
        </div>
    </div>
</section>

<!-- Rebase Conflict -->
<section id="rebase-conflict" class="doc-section">
    <h2>Le Conflit de Rebase</h2>
    
    <p class="lead">Contrairement √† une fusion, un rebase <strong>rejoue les commits un par un</strong>. Si un conflit survient, Git s'arr√™te √† ce commit sp√©cifique et attend votre intervention avant de continuer.</p>

    <div class="alert alert-info">
        <div class="alert-icon">üîÑ</div>
        <div class="alert-content">
            <strong>Diff√©rence Cruciale</strong>
            <p>Merge = Cr√©er un nouveau commit qui combine tout<br>
            Rebase = R√©√©crire l'historique en rejouant chaque commit individuellement</p>
        </div>
    </div>

    <h3>üìã Simulation du Conflit de Rebase</h3>

    <div class="numbered-list">
        <ol>
            <li>
                <strong>Pr√©parer l'environnement</strong>
                <div class="code-block">
                    <div class="code-header">Terminal</div>
                    <pre><code>git init rebase_demo && cd rebase_demo</code></pre>
                </div>
            </li>

            <li>
                <strong>Commit initial</strong>
                <div class="code-block">
                    <div class="code-header">Terminal</div>
                    <pre><code>echo 'Line 1' > script.py && git add . && git commit -m 'Init'</code></pre>
                </div>
            </li>

            <li>
                <strong>Travail sur la branche feature</strong>
                <div class="code-block">
                    <div class="code-header">Terminal</div>
                    <pre><code>git checkout -b feature && echo 'Line 1 modified by Feature' > script.py && git commit -am 'Feature work'</code></pre>
                </div>
            </li>

            <li>
                <strong>√âvolution parall√®le de main</strong>
                <div class="code-block">
                    <div class="code-header">Terminal</div>
                    <pre><code>git checkout main && echo 'Line 1 modified by Main' > script.py && git commit -am 'Main update'</code></pre>
                </div>
            </li>

            <li>
                <strong>D√©clencher le conflit de rebase</strong>
                <div class="code-block">
                    <div class="code-header">Terminal</div>
                    <pre><code>git checkout feature && git rebase main</code></pre>
                </div>
                <p>Git s'arr√™te : "CONFLICT (content): Merge conflict in script.py"</p>
            </li>
        </ol>
    </div>

    <h3>üîß R√©solution Sp√©cifique au Rebase</h3>

    <div class="alert alert-warning">
        <div class="alert-icon">‚ö†Ô∏è</div>
        <div class="alert-content">
            <strong>ATTENTION : Diff√©rence Critique</strong>
            <p>Apr√®s r√©solution d'un conflit de rebase, utilisez <code>git rebase --continue</code> et NON <code>git commit</code> !</p>
        </div>
    </div>

    <div class="feature-list">
        <div class="feature-item">
            <div class="feature-icon">1Ô∏è‚É£</div>
            <div class="feature-content">
                <h4>V√©rifier l'√©tat</h4>
                <div class="code-block">
                    <div class="code-header">Terminal</div>
                    <pre><code>git status</code></pre>
                </div>
                <p>Vous √™tes dans un √©tat "detached HEAD" pendant le rebase.</p>
            </div>
        </div>

        <div class="feature-item">
            <div class="feature-icon">2Ô∏è‚É£</div>
            <div class="feature-content">
                <h4>R√©soudre le conflit</h4>
                <p>Ouvrez <code>script.py</code> et supprimez les marqueurs comme dans un merge normal.</p>
            </div>
        </div>

        <div class="feature-item">
            <div class="feature-icon">3Ô∏è‚É£</div>
            <div class="feature-content">
                <h4>Ajouter les fichiers r√©solus</h4>
                <div class="code-block">
                    <div class="code-header">Terminal</div>
                    <pre><code>git add script.py</code></pre>
                </div>
            </div>
        </div>

        <div class="feature-item">
            <div class="feature-icon">4Ô∏è‚É£</div>
            <div class="feature-content">
                <h4>Continuer le rebase</h4>
                <div class="code-block">
                    <div class="code-header">Terminal</div>
                    <pre><code>git rebase --continue</code></pre>
                </div>
                <p><strong>Pas de git commit !</strong> Le rebase g√®re cela automatiquement.</p>
            </div>
        </div>
    </div>

    <div class="callout">
        <strong>Options de Sortie</strong>
        <p>Si le rebase devient trop complexe :<br>
        ‚Ä¢ <code>git rebase --abort</code> = Annuler et revenir √† l'√©tat initial<br>
        ‚Ä¢ <code>git rebase --skip</code> = Ignorer ce commit (DANGEREUX)</p>
    </div>
</section>

<!-- Delete/Modify Conflict -->
<section id="delete-modify-conflict" class="doc-section">
    <h2>Le Conflit Suppression/Modification</h2>
    
    <p class="lead">Un sc√©nario d√©licat : <strong>une branche supprime un fichier pendant qu'une autre le modifie</strong>. Git ne peut pas d√©cider automatiquement et vous demande : "Faut-il garder les nouvelles modifications ou respecter la suppression ?"</p>

    <h3>üìã Cr√©er le Conflit Delete/Modify</h3>

    <div class="numbered-list">
        <ol>
            <li>
                <strong>Configuration de base</strong>
                <div class="code-block">
                    <div class="code-header">Terminal</div>
                    <pre><code>git init delete_demo && cd delete_demo</code></pre>
                </div>
            </li>

            <li>
                <strong>Cr√©er un fichier avec du contenu</strong>
                <div class="code-block">
                    <div class="code-header">Terminal</div>
                    <pre><code>echo 'Important Data' > data.txt && git add . && git commit -m 'Add data'</code></pre>
                </div>
            </li>

            <li>
                <strong>Branche A : Supprimer le fichier</strong>
                <div class="code-block">
                    <div class="code-header">Terminal</div>
                    <pre><code>git checkout -b cleaner && git rm data.txt && git commit -m 'Remove obsolete file'</code></pre>
                </div>
                <p>La branche "cleaner" consid√®re le fichier inutile et le supprime.</p>
            </li>

            <li>
                <strong>Branche B : Am√©liorer le fichier</strong>
                <div class="code-block">
                    <div class="code-header">Terminal</div>
                    <pre><code>git checkout main && echo 'New Important Data' >> data.txt && git commit -am 'Update data with new info'</code></pre>
                </div>
                <p>Pendant ce temps, main am√©liore le contenu du fichier.</p>
            </li>

            <li>
                <strong>Fusion = Conflit in√©vitable</strong>
                <div class="code-block">
                    <div class="code-header">Terminal</div>
                    <pre><code>git merge cleaner</code></pre>
                </div>
                <p>Message : "CONFLICT (modify/delete): data.txt deleted by cleaner and modified by HEAD."</p>
            </li>
        </ol>
    </div>

    <h3>üîß R√©soudre le Conflit Delete/Modify</h3>

    <div class="comparison-grid">
        <div class="comparison-item">
            <h4>üìä √âtat du Conflit</h4>
            <div class="code-block">
                <div class="code-header">git status</div>
                <pre><code>deleted by them: data.txt
both modified:   data.txt</code></pre>
            </div>
            <p>Git montre que le fichier est √† la fois supprim√© et modifi√©.</p>
        </div>

        <div class="comparison-item">
            <h4>‚úÖ D√©cisions Possibles</h4>
            <ul class="check-list">
                <li><strong>Garder le fichier</strong> avec ses modifications</li>
                <li><strong>Respecter la suppression</strong> et perdre les modifications</li>
                <li><strong>Cr√©er une nouvelle version</strong> avec un nom diff√©rent</li>
            </ul>
        </div>
    </div>

    <div class="feature-list">
        <div class="feature-item">
            <div class="feature-icon">üìÅ</div>
            <div class="feature-content">
                <h4>Option A : Garder le Fichier</h4>
                <div class="code-block">
                    <div class="code-header">Terminal</div>
                    <pre><code>git add data.txt
git commit</code></pre>
                </div>
                <p>Vous d√©cidez que les modifications sont importantes et gardez le fichier.</p>
            </div>
        </div>

        <div class="feature-item">
            <div class="feature-icon">üóëÔ∏è</div>
            <div class="feature-content">
                <h4>Option B : Confirmer la Suppression</h4>
                <div class="code-block">
                    <div class="code-header">Terminal</div>
                    <pre><code>git rm data.txt
git commit</code></pre>
                </div>
                <p>Vous confirmez que le fichier √©tait effectivement obsol√®te.</p>
            </div>
        </div>

        <div class="feature-item">
            <div class="feature-icon">üìù</div>
            <div class="feature-content">
                <h4>Option C : Compromis Cr√©atif</h4>
                <div class="code-block">
                    <div class="code-header">Terminal</div>
                    <pre><code>git rm data.txt
echo 'New Important Data' > important_data.txt
git add important_data.txt
git commit</code></pre>
                </div>
                <p>Respecter la suppression mais sauvegarder le contenu ailleurs.</p>
            </div>
        </div>
    </div>
</section>

<!-- Uncommitted Changes -->
<section id="uncommitted-changes" class="doc-section">
    <h2>Changements Non Committ√©s : La Protection Git</h2>
    
    <p class="lead">Ce n'est pas techniquement un conflit, mais <strong>une protection intelligente de Git</strong>. Quand vous avez des modifications non sauvegard√©es qui seraient √©cras√©es par une op√©ration, Git refuse de continuer.</p>

    <div class="alert alert-success">
        <div class="alert-icon">üõ°Ô∏è</div>
        <div class="alert-content">
            <strong>Git Vous Prot√®ge</strong>
            <p>Ce message d'erreur n'est pas un probl√®me ‚Äî c'est Git qui emp√™che la perte accidentelle de votre travail en cours.</p>
        </div>
    </div>

    <h3>üìã Simuler le Blocage</h3>

    <div class="numbered-list">
        <ol>
            <li>
                <strong>Cr√©er l'environnement</strong>
                <div class="code-block">
                    <div class="code-header">Terminal</div>
                    <pre><code>git init dirty_demo && cd dirty_demo</code></pre>
                </div>
            </li>

            <li>
                <strong>Fichier initial</strong>
                <div class="code-block">
                    <div class="code-header">Terminal</div>
                    <pre><code>echo 'Version 1' > config.txt && git add . && git commit -m 'v1'</code></pre>
                </div>
            </li>

            <li>
                <strong>Branche avec modification diff√©rente</strong>
                <div class="code-block">
                    <div class="code-header">Terminal</div>
                    <pre><code>git checkout -b update-branch && echo 'Version 2' > config.txt && git commit -am 'v2'</code></pre>
                </div>
            </li>

            <li>
                <strong>Modifications non committ√©es</strong>
                <div class="code-block">
                    <div class="code-header">Terminal</div>
                    <pre><code>git checkout main && echo 'Work in progress...' > config.txt</code></pre>
                </div>
                <p><strong>Crucial :</strong> Ne pas faire <code>git commit</code> = √©tat "dirty"</p>
            </li>

            <li>
                <strong>Git bloque l'op√©ration</strong>
                <div class="code-block">
                    <div class="code-header">Terminal</div>
                    <pre><code>git merge update-branch</code></pre>
                </div>
                <p>Erreur : "Your local changes to 'config.txt' would be overwritten by merge."</p>
            </li>
        </ol>
    </div>

    <h3>üîß Trois Solutions Selon le Contexte</h3>

    <div class="feature-list">
        <div class="feature-item">
            <div class="feature-icon">üíæ</div>
            <div class="feature-content">
                <h4>Solution 1 : Sauvegarder le Travail</h4>
                <div class="code-block">
                    <div class="code-header">Terminal</div>
                    <pre><code>git add .
git commit -m "Work in progress - will merge next"
git merge update-branch</code></pre>
                </div>
                <p><strong>Quand :</strong> Votre travail en cours est important et doit √™tre conserv√©.</p>
            </div>
        </div>

        <div class="feature-item">
            <div class="feature-icon">üì¶</div>
            <div class="feature-content">
                <h4>Solution 2 : Stash Temporaire</h4>
                <div class="code-block">
                    <div class="code-header">Terminal</div>
                    <pre><code>git stash
git merge update-branch
git stash pop  # R√©cup√©rer le travail plus tard</code></pre>
                </div>
                <p><strong>Quand :</strong> Vous voulez fusionner maintenant et reprendre votre travail apr√®s.</p>
            </div>
        </div>

        <div class="feature-item">
            <div class="feature-icon">‚ö†Ô∏è</div>
            <div class="feature-content">
                <h4>Solution 3 : Abandonner les Modifications</h4>
                <div class="code-block">
                    <div class="code-header">Terminal</div>
                    <pre><code>git restore config.txt
# ou git checkout -- config.txt (ancienne syntaxe)
git merge update-branch</code></pre>
                </div>
                <p><strong>‚ö†Ô∏è DANGER :</strong> Cette option supprime d√©finitivement votre travail non committ√© !</p>
            </div>
        </div>
    </div>

    <div class="alert alert-warning">
        <div class="alert-icon">üéØ</div>
        <div class="alert-content">
            <strong>R√®gle d'Or</strong>
            <p>Committez souvent, m√™me si ce n'est pas parfait. Un commit imparfait vaut mieux qu'un travail perdu. Vous pouvez toujours amender avec <code>git commit --amend</code>.</p>
        </div>
    </div>
</section>